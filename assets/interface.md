---
title: 3. Интерфейс сайта
section: 3
---

# Интерфейс сайта

## Система виджетов

Основная страница интерфейса представлена набором таблиц-виджетов, которые расположены в выпадающем списке `Widgets`. Все виджеты могут быть открыты и закрыты в любом количестве и порядке, кроме виджета `Robot logs`, который открыт всегда в единственном экземпляре. Сайт существует в десктопном и мобильном (адаптированном для смартфонов) вариантах. Все положения данной главы применимы к обоим вариантам если не указано иное. В десктопном варианте можно перемещать виджеты внутри окна браузера и изменять их размеры, в мобильном варианте единовременно открыт только один виджет, занимая при этом всё окно браузера, остальные виджеты существуют в виде вкладок, между которымит возможно переключение.

|![Alt text](@images/widgets_list.png)|
|:--:|
| *Рис. 1* |

Стоит заметить, что все виджеты настраиваемые. Можно менять местами столбцы, регулировать их ширину, а так же скрывать ненужные столбцы через закладку `Columns`. Возможно одновременное открытие нескольких одинаковых виджетов с использованием в них разных настроек. Настроенное рабочее пространство можно сохранить в `Workspaces` и позже загружать его на другие устройства. Также есть возможность экспорта и импорта `Workspaces` через файл. Это позволяет пользователям с несколькими ролями перенести настроенные `Workspaces` из одной роли в другую.

### Элементы управления виджета

Все виджеты имеют общие черты. Так, внешний вид элементов управления един для всех виджетов. Рассмотрим его на примере виджета `Portfolios table`.

|![Alt text](@images/widget_header.png)|
|:--:|
| *Рис. 2* |

Разберём подробно элементы интерфейса виджета, отмеченные ни рисунке 2 номерами. В разных виджетах те или иные элементы интерфейса могут отсутствовать по причине не применимости данного элемента к содержимомоу конкретного виджета. Кроме того, в верхней строке виджета могут присутствовать дполнителньые элементы управления, характерные только для конкретного виджета, такие элементы управления будут описаны отдельно.

1. Заголовок виджета. Кроме имени виджета может содержать дополнительную информацию, такую как номер робота для виджетов, содержащих данные по конкретному роботу. В десктопном варианте сайта возможно перемещение виджета внутри страницы сайта мышкой за заголовок.
2. Фильтр, применяется только в виджете `Portfolios table`, позволяет скрыть портфели, не удовлетворяющие критериям фильтра. Фильтрация портфелей осуществляется непосредственно на сервере, на сайт отправляются только портфели, удовлетворяющие условиям фильтра. Рекомендуется первичную фильтрацию выполнять именно с помощью фильтра, так как он в отличие от строки поиска снижает количество данных, передаваемых по сети.
3. Строка поиска, позволяет осуществлять фильтрацию данных, уже загруженных в таблицу.
4. Список действий, применяемых к выбранным элементам таблицы. Может быть отдельным пунктом, а может быть скрыт под шестеренкой из пункта 5.
5. Настройки виджета, могут так же содержать список действий над выбранными элементами таблицы.
6. Кнопки управления окном виджета: развернуть виджет на всю рабочую область и закрыть виджет.
7. Управление отображением столбцов таблицы, с помощью этого меню можно отключать отображение столбцов таблицы, значения которых Вас не интересуют.
8. "Тело" виджета преставляет из себя таблицу. Возможности таблиц будут описаны далее.
9. Элемент, упрощающий группировку строк. Для включения группировки строк таблицы по значения определенного столбца достаточно заголовок нужного столбца таблицы перетащить мышкой или пальцем на эту надпись.

### Возможности таблиц

|![Alt text](@images/table_functions.png)|
|:--:|
| *Рис. 3* |

Доступ к большинству функций таблиц осуществляется либо через элементы управления виджета, описанные выше, либо через заголовок. Клик на заголовке столбца приводит к сортировке, при наведении курсора на заголовок столбца появляется кнопка меню, меню в открытом виде выглядит как на рисунке 3. В таблицах виджетов поддерживаются следующие функции из числа не описанных выше:

- **Сортировка** - сортировка строк таблицы в соотвествии со значениями конкретного столбца.
- **Групировка** - группировка строк таблицы в соотвествии со значениями конкретного столбца. Пример группировки по столбцу `Robot` показан на рисунке 4.
    
 |![Alt text](@images/table_group.png)|
 |:--:|
 | *Рис. 4* |

- **Фиксация столбца** - фиксация столбца слева или справа таблицы. Такой столбец не будет перемещаться при горизонтальной прокрутке. Чаще всего фиксируют столбцы, которые однозначно идентифицируют строку, например идентификатор робота или имя портфеля. Можно фиксировать несколько столбцов.
- **Автоматическое изменение ширины столбца** - автоматическое изменение ширины столца в соотвествии с содержимым всех строк таблицы.
- **Выделение жирным** - выделение жирным всех значений выбранного столца.
- **Изменение цвета** - изменение цвета всех значений выбранного столбца.

### Сохранение состояния виджетов

С помощью меню `Workspaces` есть возможность сохранения текущей конфигурации рабочего пространства. При этом сохраняется состояние виджетов (открыт или закрыт виджет, положение на рабочем пространстве для открытых виджетов), состояние таблиц (размеры столбцов, настройки отображения столбцов, сортировка, группировка и т.д.) Кроме того, сохраняются фильтры, примененные к таблице портфелей. Можно сохранять до 10 рабочих пространств. В дальнейшем рабочее пространство можно загрузить, чтобы получить привычную рабочую среду на другом устройстве. Сохраненные конфигурации можно обновлять, удалять, а так же экспортировать в файл для дальнейшей импорта. Экспорт в файл и импорт из файла позволяют пользователям с несколькими ролями перенести настроенные `Workspaces` из одной роли в другую.

## Описание виджетов

На сайте используется система ролей пользователей. Для разных ролей могут быть доступны разные виджеты, наполнение виджетов от роли к роли так же может меняться, например, по одной ролью могут отсутствовать столцы таблицы, доступные под другой. Будем рассматривать виджеты и наполнение виджетов в том виде, в каком оно отображается для пользователя под ролью `Trader`. Виджеты, доступные под этой ролью, будут описаны далее.

### Robot logs

Виджет, отображающий текущие логи по всем доступным пользователю роботам. Логи в виджете копятся с момента последней загрузки страницы. Этот виджет нельзя скрыть. Виджет всегда представлен в единственном экземпляре.

### Robots table

Виджет, содержащий список доступных роботов и справочную информацию по ним. Например, из этого виджета можно понять сколько дней до кончания лицензии или сколько торговых подключений можно создать в конкретном роботе.

### Portfolios table

Виджет, содержащий таблицу портфелей. По сути основной виджет, используемый при торговле.

### Robot logs history

Виджет, содержащий логи по заданному роботу за конкретный период времени. Поддерживается фильтрация голов по ключевым словам, в качество ключевого слова можно, например, использовать имя портфеля или торгового подключения.
